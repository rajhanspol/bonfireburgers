(this.webpackJsonpbonfirefinal=this.webpackJsonpbonfirefinal||[]).push([[0],{53:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var c=n(7),r=n.n(c),a=n(45),s=n.n(a),i=n(16),o=n(17),j=(n(53),n(13)),l=n(1);var u=function(e){var t=Object(o.g)(),n=Object(c.useState)(""),r=Object(j.a)(n,2),a=r[0],s=r[1],i=Object(c.useRef)(),u=Object(c.useRef)(),d=Object(c.useRef)(),b=e.items.map((function(e){return{name:e.name,qty:e.qty}}));return Object(l.jsx)("div",{className:"chkOutFormContainer",children:Object(l.jsxs)("form",{className:"signinForm",onSubmit:function(e){return e.preventDefault()},children:[a&&a,Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Name: "}),Object(l.jsx)("input",{type:"text",ref:i,required:!0})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Delivery Location: "}),Object(l.jsx)("input",{type:"text",ref:u,required:!0})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Contact Number: "}),Object(l.jsx)("input",{type:"text",ref:d,required:!0})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{className:"signInFormBtn",type:"submit",onClick:function(){var n={name:i.current.value,location:u.current.value,contact:d.current.value,items:b,subTotal:e.totalAmount,orderAccepted:!1,orderRejected:!1,uid:e.uid};if(""===i.current.value||""===u.current.value||""===d.current.value)return s("Please enter missing fields");e.onPlaceOrder(n),t.push("/")},children:"Place Order"})})]})})},d=n(48),b=(n(63),n(67),d.a.initializeApp({apiKey:"AIzaSyAE9Kc0NMr_9_Gkm3Tvy40Jg341RC2ksfA",authDomain:"bonfire-online.firebaseapp.com",projectId:"bonfire-online",storageBucket:"bonfire-online.appspot.com",messagingSenderId:"864523840218",appId:"1:864523840218:web:624767addde5c320de53e3"})),O=b.auth(),h=b.firestore(),x=r.a.createContext();function m(e){var t=Object(c.useState)(),n=Object(j.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){return O.onAuthStateChanged((function(e){a(e)}))}),[]),Object(l.jsx)(x.Provider,{value:{currentUser:r,signUp:function(e,t){return O.createUserWithEmailAndPassword(e,t)},logIn:function(e,t){return O.signInWithEmailAndPassword(e,t)},logOut:function(){return O.signOut()}},children:e.children})}var p=n(0),f=n.n(p),v=n(2);var g=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(c.useContext)(x),i=Object(o.g)();function u(){return(u=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),e.prev=1,e.next=4,s.logOut();case 4:i.push("/"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),a("Failed to LogOut"),console.log(n);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(l.jsxs)(r.a.Fragment,{children:[n&&n,Object(l.jsx)("button",{onClick:function(){return u.apply(this,arguments)},style:{display:s.currentUser?"block":"none"},children:"Log Out"})]})};var y=function(){var e=Object(c.useContext)(x);return Object(l.jsxs)("div",{className:"navigation",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Bonfire Burgers"}),Object(l.jsxs)("h4",{style:{display:e.currentUser&&"admin@bonfire.com"!==e.currentUser.email?"block":"none"},children:["Logged in as: ",e.currentUser&&e.currentUser.email]})]}),Object(l.jsx)(i.b,{to:"/",children:Object(l.jsx)("button",{children:"Home"})}),Object(l.jsx)(i.b,{to:"/orderonline",children:Object(l.jsx)("button",{children:"Order online"})}),Object(l.jsx)(i.b,{to:"/login",style:{display:e.currentUser?"none":"block"},children:Object(l.jsx)("button",{children:"Log In"})}),Object(l.jsx)(i.b,{to:"/signin",style:{display:e.currentUser?"none":"block"},children:Object(l.jsx)("button",{children:"Sign In"})}),Object(l.jsx)(i.b,{to:"/adminpage",style:{display:e.currentUser&&"admin@bonfire.com"===e.currentUser.email?"block":"none"},children:Object(l.jsx)("button",{children:"Admin Dashboard"})}),Object(l.jsx)(i.b,{to:"/vieworders",style:{display:e.currentUser&&"admin@bonfire.com"!==e.currentUser.email?"block":"none"},children:Object(l.jsx)("button",{children:"View Orders"})}),Object(l.jsx)(g,{})]})},C=n(22),k=n(28),N=r.a.createContext(),I={items:[],totalAmount:0};function S(e,t){if("ADD"===t.type){var n,c=e.totalAmount+t.item.price*t.item.qty,r=e.items.findIndex((function(e){return e.name===t.item.name})),a=e.items[r];if(a){var s=Object(k.a)(Object(k.a)({},a),{},{qty:a.qty+t.item.qty,amount:a.amount+t.item.price});(n=Object(C.a)(e.items))[r]=s}else n=e.items.concat(t.item);return{items:n,totalAmount:c}}if("REMOVE"===t.type){var i,o=e.items.findIndex((function(e){return e.name===t.name})),j=e.items[o],l=e.totalAmount-j.price;if(1===j.qty)i=e.items.filter((function(e){return e.name!==t.name}));else{var u=Object(k.a)(Object(k.a)({},j),{},{qty:j.qty-1,amount:j.amount-j.price});(i=Object(C.a)(e.items))[o]=u}return{items:i,totalAmount:l}}return"REFRESH"===t.type?{items:[],totalAmount:0}:I}function A(e){var t=Object(c.useReducer)(S,I),n=Object(j.a)(t,2),r=n[0],a=n[1];function s(){a({type:"REFRESH"})}var i=Object(c.useState)([]),o=Object(j.a)(i,2),u=o[0],d=o[1],b=Object(c.useState)(!1),O=Object(j.a)(b,2),x=O[0],m=O[1],p=h.collection("menu"),g=h.collection("orders");function y(){return(y=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,g.add(t);case 3:s();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){return p.onSnapshot((function(e){d(e.docs.map((function(e){return Object(k.a)(Object(k.a)({},e.data()),{},{id:e.id})})))}))}),[]),Object(l.jsx)(N.Provider,{value:{orderMenu:u,addItemToCart:function(e){a({type:"ADD",item:e})},cartState:r,removeItemFromCart:function(e){a({type:"REMOVE",name:e})},placeOrder:function(e){return y.apply(this,arguments)},showModal:function(){m(!0)},toggleModal:x,hideModal:function(){m(!1)}},children:e.children})}var w=function(e){var t=Object(o.g)();return Object(l.jsxs)("div",{className:"checkoutCart",children:[Object(l.jsx)("button",{onClick:function(){t.push("/orderonline")},children:"< Back to Menu"}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("h2",{children:["Cart: ",e.totalItems," items"]}),Object(l.jsxs)("p",{children:["Sub Total: ",e.totalAmount]}),Object(l.jsxs)("p",{children:["CGST: ",e.gst]}),Object(l.jsxs)("p",{children:["SGST: ",e.gst]}),Object(l.jsxs)("p",{children:["Delivery Charges: ",e.deliveryCharge]}),Object(l.jsxs)("h2",{children:["Total: ",e.total]})]})]})};var M=function(){var e=Object(c.useContext)(x),t=Object(c.useContext)(N),n=t.cartState.items.map((function(e){return e.qty})).reduce((function(e,t){return e+t}),0),r=2.5*t.cartState.totalAmount/100,a=t.cartState.totalAmount+r+r+30,s=Math.round(a);return Object(l.jsxs)("div",{children:[e.currentUser?null:Object(l.jsx)(o.a,{to:"/login"}),Object(l.jsx)(y,{}),Object(l.jsx)(w,{totalItems:n,totalAmount:t.cartState.totalAmount,gst:r,deliveryCharge:30,total:s}),Object(l.jsx)(u,{items:t.cartState.items,totalAmount:t.cartState.totalAmount,total:s,deliveryCharge:30,uid:e.currentUser.uid,onPlaceOrder:t.placeOrder})]})},q=n.p+"static/media/landingpagebrgr1.8cda51b4.jpg",R=n.p+"static/media/landingpagebrgr2.b4611614.jpg",F=n.p+"static/media/landingpagebrgr3.f91a85f3.jpg",D=n.p+"static/media/landingpagebrgr4.47689221.jpg";var U=function(){var e=Object(c.useState)(0),t=Object(j.a)(e,2),n=t[0],r=t[1],a=[q,R,F,D];return Object(l.jsxs)("div",{className:"carousel",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{onClick:function(){r(n>0?function(e){return e-1}:3)},children:Object(l.jsx)("i",{className:"fas fa-chevron-left"})}),Object(l.jsx)("button",{onClick:function(){r(n<3?function(e){return e+1}:0)},children:Object(l.jsx)("i",{className:"fas fa-chevron-right"})})]}),Object(l.jsx)("img",{src:a[n],alt:"failed to load img"})]})};var P=function(){return Object(l.jsxs)("div",{className:"description",children:[Object(l.jsx)("h1",{children:"Juicy Burgers Delivered Fresh & Hot!"}),Object(l.jsx)("p",{children:"Along with crispy fries, shakes and more..."}),Object(l.jsx)(i.b,{to:"/orderonline",children:Object(l.jsx)("button",{children:"Order Now"})})]})};var E=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:Object(l.jsx)("i",{className:"fas fa-phone-alt"})}),Object(l.jsx)("h2",{children:"+91 9372396525"}),Object(l.jsx)("h3",{children:"Call Us"})]})};var T=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:Object(l.jsx)("i",{className:"fas fa-map-marker-alt"})}),Object(l.jsx)("h2",{children:"Location"}),Object(l.jsx)("h3",{children:"Worli, Mumbai"})]})};var B=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:Object(l.jsx)("i",{className:"fas fa-clock"})}),Object(l.jsx)("h2",{children:"Timings"}),Object(l.jsx)("h3",{children:"Open from 11AM to 2AM"})]})};var L=function(){return Object(l.jsxs)("div",{className:"details",children:[Object(l.jsx)(B,{}),Object(l.jsx)(T,{}),Object(l.jsx)(E,{})]})};var V=function(){return Object(l.jsxs)("div",{className:"homePage",children:[Object(l.jsx)(y,{}),Object(l.jsxs)("div",{className:"homepageContent",children:[Object(l.jsx)(P,{}),Object(l.jsx)(U,{}),Object(l.jsx)(L,{})]})]})};var G=function(){var e=Object(c.useContext)(x),t=Object(c.useRef)(),n=Object(c.useRef)(),r=Object(c.useState)(""),a=Object(j.a)(r,2),s=a[0],u=a[1],d=Object(c.useState)(!1),b=Object(j.a)(d,2),O=b[0],h=b[1],m=Object(o.g)();function p(){return(p=Object(v.a)(f.a.mark((function c(r){return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r.preventDefault(),c.prev=1,u(""),h(!0),c.next=6,e.logIn(t.current.value,n.current.value);case 6:h(!1),m.push("/"),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),u("Failed to Log In");case 13:case"end":return c.stop()}}),c,null,[[1,10]])})))).apply(this,arguments)}function g(){return(g=Object(v.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,u(""),h(!0),t.next=6,e.logIn("test@bonfire.com","test12345");case 6:h(!1),m.push("/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),u("Failed to Log In");case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}function C(){return(C=Object(v.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,u(""),h(!0),t.next=6,e.logIn("admin@bonfire.com","admin12345");case 6:h(!1),m.push("/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),u("Failed to Log In");case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}return Object(l.jsxs)("div",{className:"logInPage",children:[Object(l.jsx)(y,{}),Object(l.jsx)("h2",{className:"signinTitle",children:"Log In"}),Object(l.jsx)("h4",{children:"You need to be logged in to place orders"}),Object(l.jsx)("button",{className:"gstAccBtn",onClick:function(e){return g.apply(this,arguments)},children:"Use Guest Account"}),Object(l.jsx)("button",{className:"gstAccBtn",onClick:function(e){return C.apply(this,arguments)},children:"Use Test - Admin Account"}),Object(l.jsx)("h3",{children:s}),Object(l.jsxs)("form",{className:"signinForm",onSubmit:function(e){return p.apply(this,arguments)},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Email: "}),Object(l.jsx)("input",{type:"text",ref:t,required:!0})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Password: "}),Object(l.jsx)("input",{type:"text",ref:n,required:!0})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{disabled:O,className:"signInFormBtn",type:"submit",children:"Log In"})})]}),Object(l.jsxs)("h3",{className:"alreadyAcc",children:["Don't have an account?",Object(l.jsx)(i.b,{to:"/signin",children:Object(l.jsx)("button",{children:"Sign Up"})})]})]})};var _=function(e){var t={name:e.name,price:e.price,qty:1,amount:e.price};return Object(l.jsxs)("div",{children:[Object(l.jsx)("h4",{children:e.name}),Object(l.jsx)("p",{children:e.amount}),Object(l.jsx)("button",{onClick:function(){return e.removeItem(e.name)},children:"-"}),Object(l.jsx)("p",{children:e.qty}),Object(l.jsx)("button",{onClick:function(){return e.addItem(t)},children:"+"})]})};var H=function(e){return Object(l.jsxs)("div",{className:"cartDetails",children:[Object(l.jsxs)("p",{children:["Sub Total: ",e.amount]}),Object(l.jsx)(i.b,{to:"/checkoutpage",children:Object(l.jsx)("button",{disabled:e.amount<=0,children:"Check Out"})})]})};var J=function(){var e=Object(c.useContext)(N),t=e.cartState.items.map((function(t){return Object(l.jsx)(_,{name:t.name,price:t.price,qty:t.qty,amount:t.amount,addItem:e.addItemToCart,removeItem:e.removeItemFromCart},t.name)}));return Object(l.jsxs)("div",{className:"cartContainer",children:[Object(l.jsx)("div",{className:"cartItemContainer",children:t}),Object(l.jsx)(H,{amount:e.cartState.totalAmount})]})};var W=function(e){var t=Object(c.useContext)(N),n=t.cartState.items.map((function(e){return e.qty})).reduce((function(e,t){return e+t}),0);return Object(l.jsxs)("div",{className:"cartFooter",children:[Object(l.jsx)("button",{onClick:e.toggleModal,children:e.arrow}),Object(l.jsxs)("h4",{children:["Cart(",n,")"]}),Object(l.jsxs)("h4",{children:["Subtotal(",t.cartState.totalAmount,")"]})]})};var z=function(e){var t=Object(c.useContext)(N),n=t.cartState.items.map((function(e){return Object(l.jsx)(_,{name:e.name,price:e.price,qty:e.qty,amount:e.amount,addItem:t.addItemToCart,removeItem:t.removeItemFromCart},e.name)}));return Object(l.jsxs)("div",{children:[e.children,Object(l.jsx)("div",{className:"modal",style:{display:t.toggleModal?"block":"none"},onClick:t.hideModal,children:Object(l.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(l.jsx)(W,{toggleModal:t.hideModal,arrow:Object(l.jsx)("i",{class:"fas fa-arrow-down"})}),Object(l.jsx)("div",{className:"cartItemContainer",children:n}),Object(l.jsx)(H,{amount:t.cartState.totalAmount})]})})]})};var K=function(e){var t=Object(c.useContext)(N),n={name:e.name,price:e.price,qty:1,amount:e.price};return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:e.name}),Object(l.jsxs)("h4",{children:[Object(l.jsx)("i",{className:"fas fa-rupee-sign rupee"}),e.price]}),Object(l.jsx)("button",{onClick:function(){return t.addItemToCart(n)},children:"ADD"}),Object(l.jsx)("p",{children:e.description})]})};var Y=function(e){return Object(l.jsxs)("div",{className:"itemHeader",children:[Object(l.jsx)("h3",{children:e.title}),Object(l.jsx)("div",{className:"itemContentCards",children:e.children})]})};var Q=function(){for(var e=Object(c.useContext)(N),t=[],n=[],r=0;r<e.orderMenu.length;r++)for(var a=0;a<e.orderMenu.length;a++)e.orderMenu[r].group===e.orderMenu[a].group&&(t.includes(e.orderMenu[r].group)||t.push(e.orderMenu[r].group));for(var s=0;s<t.length;s++)n.push({group_name:t[s],items:[]});for(var i=0;i<n.length;i++)for(var o=0;o<e.orderMenu.length;o++)n[i].group_name===e.orderMenu[o].group&&n[i].items.push(e.orderMenu[o]);var j=n.map((function(e){return Object(l.jsx)(Y,{title:e.group_name,content:e.items,children:e.items.map((function(e){return Object(l.jsx)(K,{name:e.name,price:e.value,description:e.description},e.name)}))},e.group_name)}));return Object(l.jsx)("div",{className:"menuContainer",children:j})};var X=function(){var e=Object(c.useContext)(N);return Object(l.jsxs)(z,{children:[Object(l.jsx)(y,{}),Object(l.jsxs)("div",{className:"menuandCart",children:[Object(l.jsx)(Q,{}),Object(l.jsx)(J,{})]}),Object(l.jsx)(W,{toggleModal:e.showModal,arrow:Object(l.jsx)("i",{class:"fas fa-arrow-up"})})]})};var Z=function(){var e=Object(c.useContext)(x),t=Object(c.useRef)(),n=Object(c.useRef)(),r=Object(c.useRef)(),a=Object(c.useState)(""),s=Object(j.a)(a,2),u=s[0],d=s[1],b=Object(c.useState)(!1),O=Object(j.a)(b,2),h=O[0],m=O[1],p=Object(o.g)();function g(){return(g=Object(v.a)(f.a.mark((function c(a){return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(a.preventDefault(),n.current.value===r.current.value){c.next=3;break}return c.abrupt("return",d("Passwords do not match"));case 3:return c.prev=3,d(""),m(!0),c.next=8,e.signUp(t.current.value,n.current.value);case 8:p.push("/"),m(!1),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(3),d("Failed to create account");case 15:case"end":return c.stop()}}),c,null,[[3,12]])})))).apply(this,arguments)}return Object(l.jsxs)("div",{children:[Object(l.jsx)(y,{}),Object(l.jsx)("h2",{className:"signinTitle",children:"Sign Up"}),Object(l.jsx)("h3",{children:u}),Object(l.jsxs)("form",{className:"signinForm",onSubmit:function(e){return g.apply(this,arguments)},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Email: "}),Object(l.jsx)("input",{type:"text",ref:t,required:!0})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Password: "}),Object(l.jsx)("input",{type:"text",ref:n,required:!0})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Confirm Password: "}),Object(l.jsx)("input",{type:"text",ref:r,required:!0})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{disabled:h,className:"signInFormBtn",type:"submit",children:"Sign Up"})})]}),Object(l.jsxs)("h3",{className:"alreadyAcc",children:["Already have an account?",Object(l.jsx)(i.b,{to:"/login",children:Object(l.jsx)("button",{className:"logInFormBtn",children:"Log In"})})]})]})};var $=function(e){var t=2.5*e.subtotal/100,n=e.subtotal+t+t+30,c=Math.round(n),r=e.items.map((function(e,t){return Object(l.jsxs)("p",{children:[e.name," x ",e.qty]},t)}));return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:e.name}),Object(l.jsxs)("h4",{children:["Contact: ",e.contact]}),Object(l.jsxs)("h3",{children:["Delivery Location:  ",e.location]}),r,Object(l.jsxs)("h5",{children:["Total: ",c]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{disabled:e.accepted,style:{backgroundColor:e.accepted?"grey":"rgb(248, 107, 88)",display:e.rejected?"none":"block"},children:"Pending"}),Object(l.jsx)("button",{disabled:!e.accepted,style:{backgroundColor:e.accepted?"rgb(50, 223, 58)":"grey",display:e.rejected?"none":"block"},children:"Accepted"}),Object(l.jsx)("h5",{style:{display:e.rejected?"block":"none"},children:"Order cannot be fullfilled. We will call you shortly."})]})]})};var ee=function(){var e=Object(c.useContext)(x),t=Object(c.useState)([]),n=Object(j.a)(t,2),r=n[0],a=n[1],s=h.collection("orders");Object(c.useEffect)((function(){s.where("uid","==",e.currentUser.uid).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),a(t)}))}),[]);var i=r.map((function(e,t){return Object(l.jsx)($,{name:e.name,location:e.location,contact:e.contact,subtotal:e.subTotal,items:e.items,accepted:e.orderAccepted,rejected:e.orderRejected},t)}));return Object(l.jsxs)("div",{className:"homePage",children:[Object(l.jsx)(y,{}),Object(l.jsx)("div",{className:"currentorderContainer",children:i})]})};var te=function(e){var t=2.5*e.subtotal/100,n=e.subtotal+t+t+30,c=Math.round(n),r=e.items.map((function(e,t){return Object(l.jsxs)("p",{children:[e.name," x ",e.qty]},t)}));return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:e.name}),Object(l.jsxs)("h4",{children:["Contact: ",e.contact]}),Object(l.jsxs)("h3",{children:["Delivery Location:  ",e.location]}),r,Object(l.jsxs)("h5",{children:["Total: ",c]}),Object(l.jsx)("div",{children:e.accepted||e.rejected?Object(l.jsxs)("h3",{children:["Order ",e.accepted?"Accepted":"Rejected"]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{onClick:function(){e.onAcceptOrder(e.orderId)},children:"Accept"}),Object(l.jsx)("button",{onClick:function(){e.onRejectOrder(e.orderId)},children:"Reject"})]})})]})};var ne=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!0),s=Object(j.a)(a,2),i=s[0],o=s[1],u=h.collection("orders");function d(e){u.doc(e).update({orderAccepted:!0}),o(!1)}function b(e){u.doc(e).update({orderRejected:!0}),o(!1)}Object(c.useEffect)((function(){u.onSnapshot((function(e){r(e.docs.map((function(e){return Object(k.a)(Object(k.a)({},e.data()),{},{id:e.id})})))}))}),[]);var O=n.map((function(e,t){return Object(l.jsx)(te,{name:e.name,location:e.location,contact:e.contact,subtotal:e.subTotal,items:e.items,accepted:e.orderAccepted,rejected:e.orderRejected,orderId:e.id,onAcceptOrder:d,onRejectOrder:b,toggleButton:i},t)}));return Object(l.jsx)("div",{className:"currentorderContainer",children:O})};var ce=function(e){return Object(l.jsxs)("div",{className:"sideBar",children:[Object(l.jsx)("button",{className:"ordrBtn",onClick:function(){e.displayOrderPage(!0),e.displayMenuPage(!1)},children:"Orders"}),Object(l.jsx)("button",{onClick:function(){e.displayOrderPage(!1),e.displayMenuPage(!0)},children:"Menu"})]})};var re=function(e){var t=Object(c.useState)(!1),n=Object(j.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),i=Object(j.a)(s,2),o=i[0],u=i[1],d=Object(c.useRef)(),b=Object(c.useRef)(),O=Object(c.useRef)(),x=Object(c.useRef)(),m=h.collection("menu");function p(){return(p=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),t={group:d.current.value,name:b.current.value,description:O.current.value,value:parseInt(x.current.value)},e.next=4,m.add(t);case 4:u("".concat(b.current.value," has been added to group ").concat(d.current.value)),d.current.value=null,b.current.value=null,O.current.value=null,x.current.value=null,a(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsxs)("div",{className:"addItemsContainer",style:{display:e.display?"block":"none"},children:[Object(l.jsx)("h4",{children:o}),Object(l.jsxs)("form",{className:"signinForm",onSubmit:function(e){e.preventDefault()},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Group(case sensitive): "}),Object(l.jsx)("input",{type:"text",ref:d,required:!0})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Name: "}),Object(l.jsx)("input",{type:"text",ref:b,required:!0})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Description: "}),Object(l.jsx)("input",{type:"text",ref:O,required:!0})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Value: "}),Object(l.jsx)("input",{type:"text",ref:x,required:!0})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{disabled:r,className:"signInFormBtn",onClick:function(){!function(){p.apply(this,arguments)}()},type:"submit",children:"Add Item to Menu"})})]})]})};var ae=function(e){var t=Object(c.useContext)(N).orderMenu,n=Object(c.useState)(""),r=Object(j.a)(n,2),a=r[0],s=r[1],i=Object(c.useState)(!1),o=Object(j.a)(i,2),u=o[0],d=o[1],b=Object(c.useState)(""),O=Object(j.a)(b,2),x=O[0],m=O[1],p=h.collection("menu"),g=Object(c.useRef)(),y=Object(c.useRef)(),C=Object(c.useRef)(),k=Object(c.useRef)();function I(){return(I=Object(v.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),n={group:g.current.value,name:y.current.value,description:C.current.value,value:parseInt(k.current.value),id:t},e.next=4,p.doc(t).update(n);case 4:m("Item ".concat(y.current.value," has been updated.")),d(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=t.map((function(e){return Object(l.jsx)("option",{value:e.id,children:e.name},e.id)})),A=t.filter((function(e){return e.id===a})).map((function(e){return Object(l.jsxs)("form",{className:"signinForm",onSubmit:function(e){e.preventDefault()},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Group(case sensitive): "}),Object(l.jsx)("input",{type:"text",ref:g,defaultValue:e.group})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Name: "}),Object(l.jsx)("input",{type:"text",ref:y,defaultValue:e.name})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Description: "}),Object(l.jsx)("input",{type:"text",ref:C,defaultValue:e.description})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Value: "}),Object(l.jsx)("input",{type:"text",ref:k,defaultValue:e.value})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{disabled:u,className:"signInFormBtn",type:"submit",onClick:function(){!function(e){I.apply(this,arguments)}(e.id)},children:"Edit Item"})})]},e.id)}));return Object(l.jsxs)("div",{style:{display:e.display?"none":"block"},className:"editItemsContainer",children:[Object(l.jsx)("select",{onChange:function(e){s(e.target.value)},children:S}),Object(l.jsx)("h4",{children:x}),A]})};var se=function(){var e=Object(c.useState)(!0),t=Object(j.a)(e,2),n=t[0],r=t[1];return Object(l.jsxs)("div",{className:"menuEditContainer",children:[Object(l.jsxs)("div",{className:"navBtn",children:[Object(l.jsx)("button",{onClick:function(){r(!0)},children:"Add Item"}),Object(l.jsx)("button",{onClick:function(){r(!1)},children:"Edit Item"})]}),Object(l.jsx)(re,{display:n}),Object(l.jsx)(ae,{display:n})]})};var ie=function(){var e=Object(c.useContext)(x),t=Object(c.useState)(!0),n=Object(j.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(!1),i=Object(j.a)(s,2),u=i[0],d=i[1];return Object(l.jsxs)("div",{children:[e.currentUser&&"knPUfvlbqIWIwnTbz7kkJFd8jDB3"===e.currentUser.uid?null:Object(l.jsx)(o.a,{to:"/"}),Object(l.jsx)(y,{}),Object(l.jsxs)("div",{className:"adminPageContainer",children:[Object(l.jsx)(ce,{displayOrderPage:a,displayMenuPage:d}),Object(l.jsx)("div",{className:"adminDetails",style:{display:r?"block":"none"},children:Object(l.jsx)(ne,{})}),Object(l.jsx)("div",{className:"adminDetails",style:{display:u?"block":"none"},children:Object(l.jsx)(se,{})})]})]})};var oe=function(){return Object(l.jsxs)(r.a.Fragment,{children:[Object(l.jsx)(o.d,{children:Object(l.jsx)(o.b,{exact:!0,path:"/",children:Object(l.jsx)(V,{})})}),Object(l.jsx)(o.d,{children:Object(l.jsx)(o.b,{path:"/orderonline",children:Object(l.jsx)(X,{})})}),Object(l.jsx)(o.d,{children:Object(l.jsx)(o.b,{path:"/signin",children:Object(l.jsx)(Z,{})})}),Object(l.jsx)(o.d,{children:Object(l.jsx)(o.b,{path:"/login",children:Object(l.jsx)(G,{})})}),Object(l.jsx)(o.d,{children:Object(l.jsx)(o.b,{path:"/checkoutpage",children:Object(l.jsx)(M,{})})}),Object(l.jsx)(o.d,{children:Object(l.jsx)(o.b,{path:"/vieworders",children:Object(l.jsx)(ee,{})})}),Object(l.jsx)(o.d,{children:Object(l.jsx)(o.b,{path:"/adminpage",children:Object(l.jsx)(ie,{})})})]})};s.a.render(Object(l.jsx)(m,{children:Object(l.jsx)(A,{children:Object(l.jsx)(i.a,{basename:"/bonfireburgers",children:Object(l.jsx)(oe,{})})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.2f2ec3a8.chunk.js.map