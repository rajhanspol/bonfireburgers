(this.webpackJsonpbonfirefinal=this.webpackJsonpbonfirefinal||[]).push([[0],{53:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var c=n(7),r=n.n(c),a=n(45),s=n.n(a),i=n(16),j=n(17),o=(n(53),n(13)),l=n(46),u=(n(55),n(67),l.a.initializeApp({apiKey:"AIzaSyAE9Kc0NMr_9_Gkm3Tvy40Jg341RC2ksfA",authDomain:"bonfire-online.firebaseapp.com",projectId:"bonfire-online",storageBucket:"bonfire-online.appspot.com",messagingSenderId:"864523840218",appId:"1:864523840218:web:624767addde5c320de53e3"})),d=u.auth(),b=u.firestore(),O=n(1),h=r.a.createContext();function x(e){var t=Object(c.useState)(),n=Object(o.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){return d.onAuthStateChanged((function(e){a(e)}))}),[]),Object(O.jsx)(h.Provider,{value:{currentUser:r,signUp:function(e,t){return d.createUserWithEmailAndPassword(e,t)},logIn:function(e,t){return d.signInWithEmailAndPassword(e,t)},logOut:function(){return d.signOut()}},children:e.children})}var m=function(e){var t=Object(j.g)(),n=Object(c.useState)(""),r=Object(o.a)(n,2),a=r[0],s=r[1],i=Object(c.useRef)(),l=Object(c.useRef)(),u=Object(c.useRef)(),d=e.items.map((function(e){return{name:e.name,qty:e.qty}}));return Object(O.jsx)("div",{className:"chkOutFormContainer",children:Object(O.jsxs)("form",{className:"signinForm",onSubmit:function(e){return e.preventDefault()},children:[a&&a,Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Name: "}),Object(O.jsx)("input",{type:"text",ref:i,required:!0})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Delivery Location: "}),Object(O.jsx)("input",{type:"text",ref:l,required:!0})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Contact Number: "}),Object(O.jsx)("input",{type:"text",ref:u,required:!0})]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{className:"signInFormBtn",type:"submit",onClick:function(){var n={name:i.current.value,location:l.current.value,contact:u.current.value,items:d,subTotal:e.totalAmount,orderAccepted:!1,orderRejected:!1,uid:e.uid};if(""===i.current.value||""===l.current.value||""===u.current.value)return s("Please enter missing fields");e.onPlaceOrder(n),t.push("/")},children:"Place Order"})})]})})},p=n(0),f=n.n(p),v=n(2);var g=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(c.useContext)(h),i=Object(j.g)();function l(){return(l=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),e.prev=1,e.next=4,s.logOut();case 4:i.push("/"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),a("Failed to LogOut"),console.log(n);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(O.jsxs)(r.a.Fragment,{children:[n&&n,Object(O.jsx)("button",{onClick:function(){return l.apply(this,arguments)},style:{display:s.currentUser?"block":"none"},children:"Log Out"})]})};var y=function(){var e=Object(c.useContext)(h);return Object(O.jsxs)("div",{className:"navigation",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Bonfire Burgers"}),Object(O.jsxs)("h4",{style:{display:e.currentUser&&"admin@bonfire.com"!==e.currentUser.email?"block":"none"},children:["Logged in as: ",e.currentUser&&e.currentUser.email]})]}),Object(O.jsx)(i.b,{to:"/",children:Object(O.jsx)("button",{children:"Home"})}),Object(O.jsx)(i.b,{to:"/orderonline",children:Object(O.jsx)("button",{children:"Order online"})}),Object(O.jsx)(i.b,{to:"/login",style:{display:e.currentUser?"none":"block"},children:Object(O.jsx)("button",{children:"Log In"})}),Object(O.jsx)(i.b,{to:"/signin",style:{display:e.currentUser?"none":"block"},children:Object(O.jsx)("button",{children:"Sign In"})}),Object(O.jsx)(i.b,{to:"/adminpage",style:{display:e.currentUser&&"admin@bonfire.com"===e.currentUser.email?"block":"none"},children:Object(O.jsx)("button",{children:"Admin Dashboard"})}),Object(O.jsx)(i.b,{to:"/vieworders",style:{display:e.currentUser&&"admin@bonfire.com"!==e.currentUser.email?"block":"none"},children:Object(O.jsx)("button",{children:"View Orders"})}),Object(O.jsx)(g,{})]})},C=n(22),k=n(28),N=r.a.createContext(),I={items:[],totalAmount:0};function S(e,t){if("ADD"===t.type){var n,c=e.totalAmount+t.item.price*t.item.qty,r=e.items.findIndex((function(e){return e.name===t.item.name})),a=e.items[r];if(a){var s=Object(k.a)(Object(k.a)({},a),{},{qty:a.qty+t.item.qty,amount:a.amount+t.item.price});(n=Object(C.a)(e.items))[r]=s}else n=e.items.concat(t.item);return{items:n,totalAmount:c}}if("REMOVE"===t.type){var i,j=e.items.findIndex((function(e){return e.name===t.name})),o=e.items[j],l=e.totalAmount-o.price;if(1===o.qty)i=e.items.filter((function(e){return e.name!==t.name}));else{var u=Object(k.a)(Object(k.a)({},o),{},{qty:o.qty-1,amount:o.amount-o.price});(i=Object(C.a)(e.items))[j]=u}return{items:i,totalAmount:l}}return"REFRESH"===t.type?{items:[],totalAmount:0}:I}function A(e){var t=Object(c.useReducer)(S,I),n=Object(o.a)(t,2),r=n[0],a=n[1];function s(){a({type:"REFRESH"})}var i=Object(c.useState)([]),j=Object(o.a)(i,2),l=j[0],u=j[1],d=Object(c.useState)(!1),h=Object(o.a)(d,2),x=h[0],m=h[1],p=b.collection("menu"),g=b.collection("orders");function y(){return(y=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,g.add(t);case 3:s();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){return p.onSnapshot((function(e){u(e.docs.map((function(e){return Object(k.a)(Object(k.a)({},e.data()),{},{id:e.id})})))}))}),[]),Object(O.jsx)(N.Provider,{value:{orderMenu:l,addItemToCart:function(e){a({type:"ADD",item:e})},cartState:r,removeItemFromCart:function(e){a({type:"REMOVE",name:e})},placeOrder:function(e){return y.apply(this,arguments)},showModal:function(){m(!0)},toggleModal:x,hideModal:function(){m(!1)}},children:e.children})}var w=function(e){var t=Object(j.g)();return Object(O.jsxs)("div",{className:"checkoutCart",children:[Object(O.jsx)("button",{onClick:function(){t.push("/orderonline")},children:"< Back to Menu"}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("h2",{children:["Cart: ",e.totalItems," items"]}),Object(O.jsxs)("p",{children:["Sub Total: ",e.totalAmount]}),Object(O.jsxs)("p",{children:["CGST: ",e.gst]}),Object(O.jsxs)("p",{children:["SGST: ",e.gst]}),Object(O.jsxs)("p",{children:["Delivery Charges: ",e.deliveryCharge]}),Object(O.jsxs)("h2",{children:["Total: ",e.total]})]})]})};var M=function(){var e=Object(c.useContext)(h),t=Object(c.useContext)(N),n=t.cartState.items.map((function(e){return e.qty})).reduce((function(e,t){return e+t}),0),r=2.5*t.cartState.totalAmount/100,a=t.cartState.totalAmount+r+r+30,s=Math.round(a);return Object(O.jsxs)("div",{children:[Object(O.jsx)(y,{}),Object(O.jsx)(w,{totalItems:n,totalAmount:t.cartState.totalAmount,gst:r,deliveryCharge:30,total:s}),Object(O.jsx)(m,{items:t.cartState.items,totalAmount:t.cartState.totalAmount,total:s,deliveryCharge:30,uid:e.currentUser&&e.currentUser.uid,onPlaceOrder:t.placeOrder})]})};var q=function(){var e=Object(c.useContext)(h);return Object(O.jsxs)(r.a.Fragment,{children:[e.currentUser?null:Object(O.jsx)(j.a,{to:"/login"}),Object(O.jsx)(M,{})]})},R=n.p+"static/media/landingpagebrgr1.8cda51b4.jpg",F=n.p+"static/media/landingpagebrgr2.b4611614.jpg",U=n.p+"static/media/landingpagebrgr3.f91a85f3.jpg",D=n.p+"static/media/landingpagebrgr4.47689221.jpg";var P=function(){var e=Object(c.useState)(0),t=Object(o.a)(e,2),n=t[0],r=t[1],a=[R,F,U,D];return Object(O.jsxs)("div",{className:"carousel",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{onClick:function(){r(n>0?function(e){return e-1}:3)},children:Object(O.jsx)("i",{className:"fas fa-chevron-left"})}),Object(O.jsx)("button",{onClick:function(){r(n<3?function(e){return e+1}:0)},children:Object(O.jsx)("i",{className:"fas fa-chevron-right"})})]}),Object(O.jsx)("img",{src:a[n],alt:"failed to load img"})]})};var E=function(){return Object(O.jsxs)("div",{className:"description",children:[Object(O.jsx)("h1",{children:"Juicy Burgers Delivered Fresh & Hot!"}),Object(O.jsx)("p",{children:"Along with crispy fries, shakes and more..."}),Object(O.jsx)(i.b,{to:"/orderonline",children:Object(O.jsx)("button",{children:"Order Now"})})]})};var T=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:Object(O.jsx)("i",{className:"fas fa-phone-alt"})}),Object(O.jsx)("h2",{children:"+91 9372396525"}),Object(O.jsx)("h3",{children:"Call Us"})]})};var B=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:Object(O.jsx)("i",{className:"fas fa-map-marker-alt"})}),Object(O.jsx)("h2",{children:"Location"}),Object(O.jsx)("h3",{children:"Worli, Mumbai"})]})};var L=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:Object(O.jsx)("i",{className:"fas fa-clock"})}),Object(O.jsx)("h2",{children:"Timings"}),Object(O.jsx)("h3",{children:"Open from 11AM to 2AM"})]})};var V=function(){return Object(O.jsxs)("div",{className:"details",children:[Object(O.jsx)(L,{}),Object(O.jsx)(B,{}),Object(O.jsx)(T,{})]})};var G=function(){return Object(O.jsxs)("div",{className:"homePage",children:[Object(O.jsx)(y,{}),Object(O.jsxs)("div",{className:"homepageContent",children:[Object(O.jsx)(E,{}),Object(O.jsx)(P,{}),Object(O.jsx)(V,{})]})]})};var _=function(){var e=Object(c.useContext)(h),t=Object(c.useRef)(),n=Object(c.useRef)(),r=Object(c.useState)(""),a=Object(o.a)(r,2),s=a[0],l=a[1],u=Object(c.useState)(!1),d=Object(o.a)(u,2),b=d[0],x=d[1],m=Object(j.g)();function p(){return(p=Object(v.a)(f.a.mark((function c(r){return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r.preventDefault(),c.prev=1,l(""),x(!0),c.next=6,e.logIn(t.current.value,n.current.value);case 6:x(!1),m.push("/"),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),l("Failed to Log In");case 13:case"end":return c.stop()}}),c,null,[[1,10]])})))).apply(this,arguments)}function g(){return(g=Object(v.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,l(""),x(!0),t.next=6,e.logIn("test@bonfire.com","test12345");case 6:x(!1),m.push("/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),l("Failed to Log In");case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}function C(){return(C=Object(v.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,l(""),x(!0),t.next=6,e.logIn("admin@bonfire.com","admin12345");case 6:x(!1),m.push("/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),l("Failed to Log In");case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}return Object(O.jsxs)("div",{className:"logInPage",children:[Object(O.jsx)(y,{}),Object(O.jsx)("h2",{className:"signinTitle",children:"Log In"}),Object(O.jsx)("h4",{children:"You need to be logged in to place orders"}),Object(O.jsx)("button",{className:"gstAccBtn",onClick:function(e){return g.apply(this,arguments)},children:"Use Guest Account"}),Object(O.jsx)("button",{className:"gstAccBtn",onClick:function(e){return C.apply(this,arguments)},children:"Use Test - Admin Account"}),Object(O.jsx)("h3",{children:s}),Object(O.jsxs)("form",{className:"signinForm",onSubmit:function(e){return p.apply(this,arguments)},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Email: "}),Object(O.jsx)("input",{type:"text",ref:t,required:!0})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Password: "}),Object(O.jsx)("input",{type:"text",ref:n,required:!0})]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{disabled:b,className:"signInFormBtn",type:"submit",children:"Log In"})})]}),Object(O.jsxs)("h3",{className:"alreadyAcc",children:["Don't have an account?",Object(O.jsx)(i.b,{to:"/signin",children:Object(O.jsx)("button",{children:"Sign Up"})})]})]})};var H=function(e){var t={name:e.name,price:e.price,qty:1,amount:e.price};return Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{children:e.name}),Object(O.jsx)("p",{children:e.amount}),Object(O.jsx)("button",{onClick:function(){return e.removeItem(e.name)},children:"-"}),Object(O.jsx)("p",{children:e.qty}),Object(O.jsx)("button",{onClick:function(){return e.addItem(t)},children:"+"})]})};var J=function(e){return Object(O.jsxs)("div",{className:"cartDetails",children:[Object(O.jsxs)("p",{children:["Sub Total: ",e.amount]}),Object(O.jsx)(i.b,{to:"/checkoutpage",children:Object(O.jsx)("button",{disabled:e.amount<=0,children:"Check Out"})})]})};var W=function(){var e=Object(c.useContext)(N),t=e.cartState.items.map((function(t){return Object(O.jsx)(H,{name:t.name,price:t.price,qty:t.qty,amount:t.amount,addItem:e.addItemToCart,removeItem:e.removeItemFromCart},t.name)}));return Object(O.jsxs)("div",{className:"cartContainer",children:[Object(O.jsx)("div",{className:"cartItemContainer",children:t}),Object(O.jsx)(J,{amount:e.cartState.totalAmount})]})};var z=function(e){var t=Object(c.useContext)(N),n=t.cartState.items.map((function(e){return e.qty})).reduce((function(e,t){return e+t}),0);return Object(O.jsxs)("div",{className:"cartFooter",children:[Object(O.jsx)("button",{onClick:e.toggleModal,children:e.arrow}),Object(O.jsxs)("h4",{children:["Cart(",n,")"]}),Object(O.jsxs)("h4",{children:["Subtotal(",t.cartState.totalAmount,")"]})]})};var K=function(e){var t=Object(c.useContext)(N),n=t.cartState.items.map((function(e){return Object(O.jsx)(H,{name:e.name,price:e.price,qty:e.qty,amount:e.amount,addItem:t.addItemToCart,removeItem:t.removeItemFromCart},e.name)}));return Object(O.jsxs)("div",{children:[e.children,Object(O.jsx)("div",{className:"modal",style:{display:t.toggleModal?"block":"none"},onClick:t.hideModal,children:Object(O.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(O.jsx)(z,{toggleModal:t.hideModal,arrow:Object(O.jsx)("i",{class:"fas fa-arrow-down"})}),Object(O.jsx)("div",{className:"cartItemContainer",children:n}),Object(O.jsx)(J,{amount:t.cartState.totalAmount})]})})]})};var Y=function(e){var t=Object(c.useContext)(N),n={name:e.name,price:e.price,qty:1,amount:e.price};return Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:e.name}),Object(O.jsxs)("h4",{children:[Object(O.jsx)("i",{className:"fas fa-rupee-sign rupee"}),e.price]}),Object(O.jsx)("button",{onClick:function(){return t.addItemToCart(n)},children:"ADD"}),Object(O.jsx)("p",{children:e.description})]})};var Q=function(e){return Object(O.jsxs)("div",{className:"itemHeader",children:[Object(O.jsx)("h3",{children:e.title}),Object(O.jsx)("div",{className:"itemContentCards",children:e.children})]})};var X=function(){for(var e=Object(c.useContext)(N),t=[],n=[],r=0;r<e.orderMenu.length;r++)for(var a=0;a<e.orderMenu.length;a++)e.orderMenu[r].group===e.orderMenu[a].group&&(t.includes(e.orderMenu[r].group)||t.push(e.orderMenu[r].group));for(var s=0;s<t.length;s++)n.push({group_name:t[s],items:[]});for(var i=0;i<n.length;i++)for(var j=0;j<e.orderMenu.length;j++)n[i].group_name===e.orderMenu[j].group&&n[i].items.push(e.orderMenu[j]);var o=n.map((function(e){return Object(O.jsx)(Q,{title:e.group_name,content:e.items,children:e.items.map((function(e){return Object(O.jsx)(Y,{name:e.name,price:e.value,description:e.description},e.name)}))},e.group_name)}));return Object(O.jsx)("div",{className:"menuContainer",children:o})};var Z=function(){var e=Object(c.useContext)(N);return Object(O.jsxs)(K,{children:[Object(O.jsx)(y,{}),Object(O.jsxs)("div",{className:"menuandCart",children:[Object(O.jsx)(X,{}),Object(O.jsx)(W,{})]}),Object(O.jsx)(z,{toggleModal:e.showModal,arrow:Object(O.jsx)("i",{class:"fas fa-arrow-up"})})]})};var $=function(){var e=Object(c.useContext)(h),t=Object(c.useRef)(),n=Object(c.useRef)(),r=Object(c.useRef)(),a=Object(c.useState)(""),s=Object(o.a)(a,2),l=s[0],u=s[1],d=Object(c.useState)(!1),b=Object(o.a)(d,2),x=b[0],m=b[1],p=Object(j.g)();function g(){return(g=Object(v.a)(f.a.mark((function c(a){return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(a.preventDefault(),n.current.value===r.current.value){c.next=3;break}return c.abrupt("return",u("Passwords do not match"));case 3:return c.prev=3,u(""),m(!0),c.next=8,e.signUp(t.current.value,n.current.value);case 8:p.push("/"),m(!1),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(3),u("Failed to create account");case 15:case"end":return c.stop()}}),c,null,[[3,12]])})))).apply(this,arguments)}return Object(O.jsxs)("div",{children:[Object(O.jsx)(y,{}),Object(O.jsx)("h2",{className:"signinTitle",children:"Sign Up"}),Object(O.jsx)("h3",{children:l}),Object(O.jsxs)("form",{className:"signinForm",onSubmit:function(e){return g.apply(this,arguments)},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Email: "}),Object(O.jsx)("input",{type:"text",ref:t,required:!0})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Password: "}),Object(O.jsx)("input",{type:"text",ref:n,required:!0})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Confirm Password: "}),Object(O.jsx)("input",{type:"text",ref:r,required:!0})]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{disabled:x,className:"signInFormBtn",type:"submit",children:"Sign Up"})})]}),Object(O.jsxs)("h3",{className:"alreadyAcc",children:["Already have an account?",Object(O.jsx)(i.b,{to:"/login",children:Object(O.jsx)("button",{className:"logInFormBtn",children:"Log In"})})]})]})};var ee=function(e){var t=2.5*e.subtotal/100,n=e.subtotal+t+t+30,c=Math.round(n),r=e.items.map((function(e,t){return Object(O.jsxs)("p",{children:[e.name," x ",e.qty]},t)}));return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:e.name}),Object(O.jsxs)("h4",{children:["Contact: ",e.contact]}),Object(O.jsxs)("h3",{children:["Delivery Location:  ",e.location]}),r,Object(O.jsxs)("h5",{children:["Total: ",c]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{disabled:e.accepted,style:{backgroundColor:e.accepted?"grey":"rgb(248, 107, 88)",display:e.rejected?"none":"block"},children:"Pending"}),Object(O.jsx)("button",{disabled:!e.accepted,style:{backgroundColor:e.accepted?"rgb(50, 223, 58)":"grey",display:e.rejected?"none":"block"},children:"Accepted"}),Object(O.jsx)("h5",{style:{display:e.rejected?"block":"none"},children:"Order cannot be fullfilled. We will call you shortly."})]})]})};var te=function(){var e=Object(c.useContext)(h),t=Object(c.useState)([]),n=Object(o.a)(t,2),r=n[0],a=n[1],s=b.collection("orders");Object(c.useEffect)((function(){s.where("uid","==",e.currentUser.uid).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),a(t)}))}),[]);var i=r.map((function(e,t){return Object(O.jsx)(ee,{name:e.name,location:e.location,contact:e.contact,subtotal:e.subTotal,items:e.items,accepted:e.orderAccepted,rejected:e.orderRejected},t)}));return Object(O.jsxs)("div",{className:"homePage",children:[Object(O.jsx)(y,{}),Object(O.jsx)("div",{className:"currentorderContainer",children:i})]})};var ne=function(e){var t=2.5*e.subtotal/100,n=e.subtotal+t+t+30,c=Math.round(n),r=e.items.map((function(e,t){return Object(O.jsxs)("p",{children:[e.name," x ",e.qty]},t)}));return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:e.name}),Object(O.jsxs)("h4",{children:["Contact: ",e.contact]}),Object(O.jsxs)("h3",{children:["Delivery Location:  ",e.location]}),r,Object(O.jsxs)("h5",{children:["Total: ",c]}),Object(O.jsx)("div",{children:e.accepted||e.rejected?Object(O.jsxs)("h3",{children:["Order ",e.accepted?"Accepted":"Rejected"]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{onClick:function(){e.onAcceptOrder(e.orderId)},children:"Accept"}),Object(O.jsx)("button",{onClick:function(){e.onRejectOrder(e.orderId)},children:"Reject"})]})})]})};var ce=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!0),s=Object(o.a)(a,2),i=s[0],j=s[1],l=b.collection("orders");function u(e){l.doc(e).update({orderAccepted:!0}),j(!1)}function d(e){l.doc(e).update({orderRejected:!0}),j(!1)}Object(c.useEffect)((function(){l.onSnapshot((function(e){r(e.docs.map((function(e){return Object(k.a)(Object(k.a)({},e.data()),{},{id:e.id})})))}))}),[]);var h=n.map((function(e,t){return Object(O.jsx)(ne,{name:e.name,location:e.location,contact:e.contact,subtotal:e.subTotal,items:e.items,accepted:e.orderAccepted,rejected:e.orderRejected,orderId:e.id,onAcceptOrder:u,onRejectOrder:d,toggleButton:i},t)}));return Object(O.jsx)("div",{className:"currentorderContainer",children:h})};var re=function(e){return Object(O.jsxs)("div",{className:"sideBar",children:[Object(O.jsx)("button",{className:"ordrBtn",onClick:function(){e.displayOrderPage(!0),e.displayMenuPage(!1)},children:"Orders"}),Object(O.jsx)("button",{onClick:function(){e.displayOrderPage(!1),e.displayMenuPage(!0)},children:"Menu"})]})};var ae=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),i=Object(o.a)(s,2),j=i[0],l=i[1],u=Object(c.useRef)(),d=Object(c.useRef)(),h=Object(c.useRef)(),x=Object(c.useRef)(),m=b.collection("menu");function p(){return(p=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),t={group:u.current.value,name:d.current.value,description:h.current.value,value:parseInt(x.current.value)},e.next=4,m.add(t);case 4:l("".concat(d.current.value," has been added to group ").concat(u.current.value)),u.current.value=null,d.current.value=null,h.current.value=null,x.current.value=null,a(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsxs)("div",{className:"addItemsContainer",style:{display:e.display?"block":"none"},children:[Object(O.jsx)("h4",{children:j}),Object(O.jsxs)("form",{className:"signinForm",onSubmit:function(e){e.preventDefault()},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Group(case sensitive): "}),Object(O.jsx)("input",{type:"text",ref:u,required:!0})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Name: "}),Object(O.jsx)("input",{type:"text",ref:d,required:!0})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Description: "}),Object(O.jsx)("input",{type:"text",ref:h,required:!0})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Value: "}),Object(O.jsx)("input",{type:"text",ref:x,required:!0})]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{disabled:r,className:"signInFormBtn",onClick:function(){!function(){p.apply(this,arguments)}()},type:"submit",children:"Add Item to Menu"})})]})]})};var se=function(e){var t=Object(c.useContext)(N).orderMenu,n=Object(c.useState)(""),r=Object(o.a)(n,2),a=r[0],s=r[1],i=Object(c.useState)(!1),j=Object(o.a)(i,2),l=j[0],u=j[1],d=Object(c.useState)(""),h=Object(o.a)(d,2),x=h[0],m=h[1],p=b.collection("menu"),g=Object(c.useRef)(),y=Object(c.useRef)(),C=Object(c.useRef)(),k=Object(c.useRef)();function I(){return(I=Object(v.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),n={group:g.current.value,name:y.current.value,description:C.current.value,value:parseInt(k.current.value),id:t},e.next=4,p.doc(t).update(n);case 4:m("Item ".concat(y.current.value," has been updated.")),u(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=t.map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.name},e.id)})),A=t.filter((function(e){return e.id===a})).map((function(e){return Object(O.jsxs)("form",{className:"signinForm",onSubmit:function(e){e.preventDefault()},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Group(case sensitive): "}),Object(O.jsx)("input",{type:"text",ref:g,defaultValue:e.group})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Name: "}),Object(O.jsx)("input",{type:"text",ref:y,defaultValue:e.name})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Description: "}),Object(O.jsx)("input",{type:"text",ref:C,defaultValue:e.description})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{children:"Value: "}),Object(O.jsx)("input",{type:"text",ref:k,defaultValue:e.value})]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{disabled:l,className:"signInFormBtn",type:"submit",onClick:function(){!function(e){I.apply(this,arguments)}(e.id)},children:"Edit Item"})})]},e.id)}));return Object(O.jsxs)("div",{style:{display:e.display?"none":"block"},className:"editItemsContainer",children:[Object(O.jsx)("select",{onChange:function(e){s(e.target.value)},children:S}),Object(O.jsx)("h4",{children:x}),A]})};var ie=function(){var e=Object(c.useState)(!0),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(O.jsxs)("div",{className:"menuEditContainer",children:[Object(O.jsxs)("div",{className:"navBtn",children:[Object(O.jsx)("button",{onClick:function(){r(!0)},children:"Add Item"}),Object(O.jsx)("button",{onClick:function(){r(!1)},children:"Edit Item"})]}),Object(O.jsx)(ae,{display:n}),Object(O.jsx)(se,{display:n})]})};var je=function(){var e=Object(c.useContext)(h),t=Object(c.useState)(!0),n=Object(o.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(!1),i=Object(o.a)(s,2),l=i[0],u=i[1];return Object(O.jsxs)("div",{children:[e.currentUser&&"knPUfvlbqIWIwnTbz7kkJFd8jDB3"===e.currentUser.uid?null:Object(O.jsx)(j.a,{to:"/"}),Object(O.jsx)(y,{}),Object(O.jsxs)("div",{className:"adminPageContainer",children:[Object(O.jsx)(re,{displayOrderPage:a,displayMenuPage:u}),Object(O.jsx)("div",{className:"adminDetails",style:{display:r?"block":"none"},children:Object(O.jsx)(ce,{})}),Object(O.jsx)("div",{className:"adminDetails",style:{display:l?"block":"none"},children:Object(O.jsx)(ie,{})})]})]})};var oe=function(){return Object(O.jsxs)(r.a.Fragment,{children:[Object(O.jsx)(j.d,{children:Object(O.jsx)(j.b,{exact:!0,path:"/",children:Object(O.jsx)(G,{})})}),Object(O.jsx)(j.d,{children:Object(O.jsx)(j.b,{path:"/orderonline",children:Object(O.jsx)(Z,{})})}),Object(O.jsx)(j.d,{children:Object(O.jsx)(j.b,{path:"/signin",children:Object(O.jsx)($,{})})}),Object(O.jsx)(j.d,{children:Object(O.jsx)(j.b,{path:"/login",children:Object(O.jsx)(_,{})})}),Object(O.jsx)(j.d,{children:Object(O.jsx)(j.b,{path:"/checkoutpage",children:Object(O.jsx)(q,{})})}),Object(O.jsx)(j.d,{children:Object(O.jsx)(j.b,{path:"/vieworders",children:Object(O.jsx)(te,{})})}),Object(O.jsx)(j.d,{children:Object(O.jsx)(j.b,{path:"/adminpage",children:Object(O.jsx)(je,{})})})]})};s.a.render(Object(O.jsx)(x,{children:Object(O.jsx)(A,{children:Object(O.jsx)(i.a,{basename:"/bonfireburgers",children:Object(O.jsx)(oe,{})})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.da771e85.chunk.js.map